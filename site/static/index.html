<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="/styles.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;700;900&display=swap" rel="stylesheet">
  
    <script>
      const pros = [{"title": "Genopets", "tagline": "Genopets is the world's first Move-to-Earn NFT game that incentivizes players to stay active and earn for free.", "winner": true, "likes": "8453", "comments": "7895"}, {"title": "StepN by Find Satoshi Lab", "tagline": "StepN is a move2earn mobile game. It aims to attract million of non-crypto runners to the crypto realm through playing the game, whilst some game's profit goes to carbon offsetting.", "winner": true, "likes": "1294", "comments": "1254"}, {"title": "Soapy Finance", "tagline": "Building The Future Entrance of DeFi for Community", "winner": false, "likes": "1082", "comments": "896"}, {"title": "Bunny Army", "tagline": "Bunny Army is a decentralized Gamefi+NFT tower-defense game, with excellent experience and income from entertainment. It will firstly launch on OEC.", "winner": false, "likes": "1543", "comments": "498"}]

      function generateProjectCardHtml(project) {
        return `
          <div>
            ${project.winner ? '<div class="winner-banner"><img src="/winner.png"/></div>' : ''}
          <div class="project">
            <div class="project-image"></div>
            <div class="project-caption">
              <div class="project-header">${ project.title }</div>
              <div class="project-tagline">${ project.tagline }</div>
            </div>
            <div class="project-footer">
              <div><span class="material-icons icon">favorite</span> ${ project.likes }</div>
              <div><span class="material-icons icon">chat</span> ${ project.comments }</div>
            </div>
          </div>
        </div>`
      }

      function populateProjects(projects) {
        console.log('gi')
        let html = '';
        for (const project of projects) {
          html += generateProjectCardHtml(project);
        }
        const projectContainer = document.getElementById("projects");
        projectContainer.innerHTML = html;
      }

      function onOnlyWinnersPressed() {
        const urlParams = new URLSearchParams(window.location.search);
        urlParams.set('winners', (urlParams.get('winners') == "false"));
        window.location.search = urlParams;
      }
    </script>
  </head>
  <body onload="populateProjects(pros)">
    <nav>
      <img src="/logo.png"/>
      <a href="https://github.com/deepsea-dev/postdev">
        <img class="github" src="/github.png"/>
      </a>
    </nav>
    
    <div class="explore">
      <span>Explore projects from Portfolios and hackathons</span>
      <span class="filter">
        <label for="winners">only winners</label>
        <input type="button" class="{{ 'checked' if onlyWinners }}" id="winners" onclick="onOnlyWinnersPressed()">
      </span>
    </div>

    <div id="projects" class="projects">
        
    </div>
  </body>
</html>